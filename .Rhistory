}
cv.error
set.seed(17)
cv.error.10 = rep(0, 10)
for (i in 10) {
glm.fit = glm(mpg ~ poly(horsepower, i), data=Auto)
cv.error.10[i] = cv.glm(Auto, glm.fit, K=10)$delta[1]
}
cv.error.10
for (i in 1:10) {
glm.fit = glm(mpg ~ poly(horsepower, i), data=Auto)
cv.error.10[i] = cv.glm(Auto, glm.fit, K=10)$delta[1]
}
cv.error.10
head(Portfolio)
?Portfolio
summary(Portfolio)
alpha.fn = function(data, index) {
X = data$X[index]
Y = data$Y[index]
return((var(Y) - cov(X, Y)) / (var(X) + var(Y) - 2 * cov(X, Y)))
}
alpha.fn(Portfolio, 1:1000)
alpha.fn(Portfolio, 1:100)
X = data$X[1:100]
boot(Portfolio, alpha.fn, R=1000)
boot.fn = function(data, index) {
return(coef(lm(mpg ~ horsepower, data=data, subset=index)))
}
head(Auto)
names(Auto)
dim(Auto)
boot.fn(Auto, 1:392)
set.seed(1)
boot.fn(Auto, sample(392, 392, replace=T))
boot.fn(Auto, sample(392, 392, replace=T))
boot(Auto, boot.fn, 1000)
summary(lm(mpg ~ horsepower, data=Auto))$coef
?I
boot.fn = function(data, index) {
return(coef(lm(mpg ~ horsepower + I(horsepower^2), data=data, subset=Index)))
}
set.seed(1)
boot(Auto, boot.fn, 1000)
boot.fn = function(data, index) {
return(coef(lm(mpg ~ horsepower + I(horsepower^2), data=data, subset=index)))
}
set.seed(1)
boot(Auto, boot.fn, 1000)
summary(lm(mpg ~ horsepower + I(horsepower^2), data=data))$coef
summary(lm(mpg ~ horsepower + I(horsepower^2), data=Auto))$coef
install.packages("shiny")
library(shiny)
a <- matrix(1:10, 5, 2)
a
a <- matrix(c(0.338, 0.391, 0.369, 0.313, 0.361, ))
a <- matrix(c(0.338, 0.391, 0.369, 0.313, 0.361, 0.54, 0.45, 0.374, 0.447, 0.5))
a <- matrix(c(0.338, 0.391, 0.369, 0.313, 0.361, 0.54, 0.45, 0.374, 0.447, 0.5), 5, 2)
a
b <- matrix(c(2737.77, 1584.91))
b
a * b
a %*% b
c <- a %*% b
c - 804.63
c <- c - 804.63
c
d <- matrix(c(1400000, 1065000, 295000, 800000, 300000))
d % c
d / c
teamRank = c(1,2,3,3,4,4,4,4,5,5)
r2012 <- c(94, 88, 95, 88, 93, 94, 98, 97, 93, 94)
r2013 <- c(97, 97, 92, 93, 92, 96, 94, 96, 92, 90)
cor(teamRank, r2012)
cor(teamRank, r2013)
library(manipulate)
myPlot <- function(s) {
plot(cars$dist - mean(cars$dist), cars$speed - mean(cars$speed))
abline(0, s)
}
myPlot(3)
manipulate(myPlot(s), slider = x(0, 2, step = 0.1))
manipulate(myPlot(s), s = slider(0, 2, step = 0.1))
dTable(airquality, sPaginationType = "full_numbers")
airquality
library(rCharts)
dTable(airquality, sPaginationType = "full_numbers")
ls
a <- 1:30
b <- 5:35
a - b
b - a
head(a)
head(b)
class(a)
setdiff(a, b)
data(mtcars)
head(airquality)
head(airquality)
nrow(airquality)
xcomplete.cases(airquality)
x <- airquality[complete.cases(airquality), ]
nrow(x)
data(airquality)
cor(airquality)
head(airquality)
min(Ozone)
min(airquality$Ozone)
plot(Solar.R ~ Wind, airquality)
head(airquality)
library(ggplot2)
ggplot(airquality) +
geom_point(aes(x = Wind, y = Ozone, fill = Month))
ggplot(airquality) +
geom_point(aes(x = Wind, y = Ozone, color = Month))
ggplot(airquality) +
geom_point(aes(x = Wind, y = Ozone)) +
facet_grid(Month ~ .)
head(airquality)
cor(airquality, na.rm = T)
cor(airquality, rm.na = T)
cor(airquality)
x <- airquality[complete.cases(airquality), ]
x <- cor(airquality)
cor(x)
head(x)
x <- airquality[complete.cases(airquality), ]
head(x)
cor(x)
ggplot(x) +
geom_point(aes(x = Temp, y = Ozone))
ggplot(x) +
geom_point(aes(x = Temp, y = Ozone)) +
facet_grid(Month ~ .)
a <- 1:30
b <- 5:35
setdiff(a, b)
a
b
a - b
setdiff(b, a)
a[a %in% b]
a[!(a %in% b)]
subset(airquality, na = TRUE)
subset(airquality, nm = TRUE)
subset(airquality, complete.cases(airquality))
subset(airquality, !complete.cases(airquality))
g = D(x^2 ~ x)
install.packages('mosaic')
library(mosaic)
g = D(x^2 ~ x)
g
g(2)
D(sin(x) ~ x)
D(cos(x) ~ x)
h <- D(sin(abs(x - 3)) ~ x)
h
h(2)
sin(90)
?since
?sin
waterLM <- lm(y ~ A * B * C)
A <- c(-1, -1, -1, +1)
B <- c(-1, +1, -1, +1)
C <- c(-1, -1, +1, +1)
y <- c(30, 6, 4, 8)
waterLM <- lm(y ~ A * B * C)
summary(waterLM)
x <- c(1, 2, 3, 4)
sd(x)
update.packages()
rm(list = ls())
?aggregate
rm(list = ls())
library(DBI)
rm(list = ls())
getwd()
library(leafletR)
library(rgdal) #for reading/writing geo files
install.packages('rgdal')
install.packages(geos, type="source")
install.packages('geos', type="source")
install.packages('rgdal', type="source")
library(rgdal) #for reading/writing geo files
install.packages('geos', type="source")
install.packages('geos')
library(leaftlet)
library(leaftletR)
library(leafletR)
library(leaftlet)
install.packages('leaflet')
detach('package:leafletR')
if(!require(devtools)) install.packages("devtools")
if(!require(leaflet)) install_github("rstudio/leaflet")
library(leaflet)
if(!require(leaflet)) install_github("rstudio/leaflet")
(m <- leaflet() %>% addTiles())
(m <- leaflet() %>% addTiles())
install_github("rstudio/leaflet")
library(leaflet)
(m <- leaflet() %>% addTiles())
m <- leaflet() %>% addTiles()
m
(m)
img <- readPNG("~/repos/Creating-maps-in-R/figure//shiny_world.png")
m
library(RCurl) # download https data
urlfile <- 'https://archive.ics.uci.edu/ml/machine-learning-databases/adult/adult.data'
x <- getURL(urlfile, ssl.verifypeer = FALSE)
adults <- read.csv(textConnection(x), header=F)
# if the above getURL command fails, try this:
# adults <-read.csv('https://archive.ics.uci.edu/ml/machine-learning-databases/adult/adult.data', header=F)
names(adults)=c('Age','Workclass','FinalWeight','Education','EducationNumber',
'MaritalStatus','Occupation','Relationship','Race',
'Sex','CapitalGain','CapitalLoss','HoursWeek',
'NativeCountry','Income')
adults$Income <- ifelse(adults$Income==' <=50K',0,1)
library(caret)
dmy <- dummyVars(" ~ .", data = adults)
adultsTrsf <- data.frame(predict(dmy, newdata = adults))
## Correlation matrix with p-values. See http://goo.gl/nahmV for documentation of this function
cor.prob <- function (X, dfr = nrow(X) - 2) {
R <- cor(X, use="pairwise.complete.obs")
above <- row(R) < col(R)
r2 <- R[above]^2
Fstat <- r2 * dfr/(1 - r2)
R[above] <- 1 - pf(Fstat, 1, dfr)
R[row(R) == col(R)] <- NA
R
}
## Use this to dump the cor.prob output to a 4 column matrix
## with row/column indices, correlation, and p-value.
## See StackOverflow question: http://goo.gl/fCUcQ
flattenSquareMatrix <- function(m) {
if( (class(m) != "matrix") | (nrow(m) != ncol(m))) stop("Must be a square matrix.")
if(!identical(rownames(m), colnames(m))) stop("Row and column names must be equal.")
ut <- upper.tri(m)
data.frame(i = rownames(m)[row(m)[ut]],
j = rownames(m)[col(m)[ut]],
cor=t(m)[ut],
p=m[ut])
}
x <- cor.prob(adultsTrsf)
head(x)
library(caret)
remove(list=ls9)
remove(list=ls())
library(caret)
remove(list=ls())
names(getModelInfo())
names(getModelInfo())
library(RCurl)
urlfile <-'https://raw.githubusercontent.com/hadley/fueleconomy/master/data-raw/vehicles.csv'
?getURL
x <- getURL(urlfile, ssl.verifypeer = FALSE)
class(x)
head(x)
vehicles <- read.csv(textConnection(x))
head(vehicles)
dim(vehicles)
?repeat
?repeat
remove(list=ls())
titanicDF <- read.csv('http://math.ucdenver.edu/RTutorial/titanic.txt',sep='\t')
head(titanicDF)
titanicDF$Title <- ifelse(grepl('Mr ',titanicDF$Name),'Mr',ifelse(grepl('Mrs ',titanicDF$Name),'Mrs',ifelse(grepl('Miss',titanicDF$Name),'Miss','Nothing')))
titanicDF$Title <- as.factor(titanicDF$Title)
titanicDF$Age[is.na(titanicDF$Age)] <- median(titanicDF$Age, na.rm=T)
titanicDF <- titanicDF[c('PClass', 'Age',    'Sex',   'Title', 'Survived')]
require(caret)
titanicDummy <- dummyVars("~.",data=titanicDF, fullRank=F)
titanicDF <- as.data.frame(predict(titanicDummy,titanicDF))
head(titanicDF)
summary(titanicDF)
df_survived_1 <- subset(titanicDF, Survived==1)
df_survived_0 <- subset(titanicDF, Survived==0)
summary(df_survived_1$Sex.female)
summary(df_survived_0$Sex.female)
class(summary(df_survived_0$Sex.female))
Sex.Female_0 <- (summary(df_survived_0$Sex.female))
Sex.Female_0
class(Sex.Female_0)
Sex.Female_0 <- summary(df_survived_0$Sex.female)
class(Sex.Female_0)
Sex.Female_0
Sex.Female_0 <- c(Sex.Female_0[1:6])
Sex.Female_0
class(Sex.Female_0)
Sex.Female_0 <- as.numeric(summary(df_survived_0$Sex.female))
Sex.Female_0
Sex.Female_0 <- summary(df_survived_0$Sex.female)
Sex.Female_0 <- c(Sex.Female_0[1:6])
Sex.Female_1 <- (summary(df_survived_1$Sex.female))
Sex.Female_1 <- c(Sex.Female_1[1:6])
stats <- data.frame('ind'=c(1:6),
'Sex.Female_1'=Sex.Female_1,
'Sex.Female_0'=Sex.Female_0)
stats
Sex.Female_1
str(Sex.Female_1)
class(Sex.Female_1)
names(Sex.Female_1)
Sex.Female_1 <- summary(df_survived_1$Sex.female)
Sex.Female_1 <- c(Sex.Female_1)
Sex.Female_1
class(Sex.Female_1)
Sex.Female_0 <- c(Sex.Female_0)
stats <- data.frame('ind'=c(1:6),
'Sex.Female_1'=Sex.Female_1,
'Sex.Female_0'=Sex.Female_0)
stats
require(ggplot2)
p <- ggplot(data=stats, aes(ind)) +
geom_line(aes(y = Sex.Female_1, colour = "Sex.Female_1")) +
geom_line(aes(y = Sex.Female_0, colour = "Sex.Female_0")) +
scale_x_discrete(breaks = 1:6,
labels=c("min","1q","median","mean","3q","max"))
p
rm(list = ls())
getwd()
setwd('/Users/hawooksong/Desktop/shiny_data_explorer')
library(shiny)
runApp()
## import libraries
library(shiny)
library(ggplot2)
library(dplyr)
library(DT)
library(stringr)
## import functions
source('./functions/plot.R')
source('./functions/aggregate.R')
source('./functions/helper.R')
df <- read.csv('./data/diamonds_missing_vals.csv', stringsAsFactors=F)
df$cut <- as.factor(df$cut)
df$color <- as.factor(df$color)
df$clarity <- as.factor(df$clarity)
head(df)
x <- aggregate(df, 'cut', 'price', 'mean')
head(x)
library(visualToolkit)
visualToolkit()
library(visualToolkit)
visualToolkit()
library(visualToolkit)
visualToolkit()
visualToolkit()
library(visualToolkit)
visualToolkit()
visualToolkit()
library(visualToolkit)
visualToolkit()
visualToolkit()
load(visualToolkit)
load_al(visualToolkit)
library(visualToolkit)
visualToolkit()
library(visualToolkit)
visualToolkit()
getwd()
runApp('./inst/')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
head(diamonds)
View(diamonds)
head(diamonds)
tail(diamonds)
head(diamonds)
diamonds$cut
View(diamonds)
table(diamonds$cut)
unique(diamonds$cut)
head(diamonds)
head(diamonds, 10)
diamonds[ , ]
diamonds[diamonds$cut='Ideal', ]
diamonds[diamonds$cut=='Ideal', ]
head(diamonds)
diamonds[$carat>.3,]
diamonds[diamonds$carat>.3,]
diamonds$carat
0.5 > .3
head(diamonds$carat > 0.3, 100)
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp()
runApp('./inst/visualToolkit')
runApp()
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
print('hi', 'by')
print('hi', 'by')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
?list
list('x'='hello', 'y', 'susie')
list('x'='hello', 'y'='susie')
x <- list('x'='hello', 'y'='susie')
x$x
x[['hello']]
x[['x']]
x <- list(x, 'z'='zack')
x
x <- list('x'='hello', 'y'='susie')
x <- append(x, z='zack')
x <- append(x, 'z'='zack')
?append
x <- list('x'='hello', 'y'='susie')
x <- c(x, 'z'='zack')
x
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
x
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
ifelse(TRUE, 'hei', NULL)
ifelse(FALSE, 'hei', NULL)
ifelse(FALSE, 'hei', NULL)
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
ifelse(FALSE, 'hei', NULL)
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
runApp('./inst/visualToolkit')
getwd()
setwd('/Users/hawooksong/Desktop/visualToolkit_9_01_15/')
dir()
runApp('R')
setwd('/Users/hawooksong/Desktop/visualToolkit_9_01_15/R')
runApp()
runApp()
setwd('/Users/hawooksong/Desktop/visualToolkit_9_01_15/')
runApp()
runApp('R')
runApp('R')
dir('R')
getwd()
